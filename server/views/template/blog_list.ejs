<% let G_PAGE = JSON.parse('{"API":{"FOLLOW":"/api/user/follow","CANCEL_FOLLOW":"/api/user/cancelFollow","CREATE_BLOG":"/api/blog","REMOVE_BLOGS":"/api/blog","GET_BLOG_LIST":"/api/blog/list","EDIT_BLOG":"/blog/edit"},"SELECTOR":{"PAGE_NUM_LINK":".pagination .pagination .page-link"},"ID":{"NEW_BLOG_TITLE":"new_blog_title","NEW_BLOG":"new_blog","FANS_LIST":"fansList","IDOL_LIST":"idolList","FOLLOW":"follow","CANCEL_FOLLOW":"cancelFollow"},"DATASET":{"KEY":{"BLOG_STATUS":"status","PAGE_TURN":"turn","PAGE_NUM":"page","PAGINATION_NUM":"pagination","REMOVE_BLOG":"remove-blog","BLOG_ID":"blog-id","USER_ID":"user-id"},"VALUE":{"NEXT_PAGE":"next-page","PREVIOUS_PAGE":"previous-page","NEXT_PAGINATION":"next-pagination","PREVIOUS_PAGINATION":"previous-pagination","REMOVE_BLOG_ITEM":"item","REMOVE_BLOG_LIST":"list"}}}') %>
<li data-<%= G_PAGE.DATASET.KEY.PAGE_NUM %>="<%= page %>" class="fade <%= page === 1 ? 'show' : '' %>">
  <ul class="list-group list-group-flush">
    <% blogs.forEach( ( {id, author_id, title, time } ) => { %>
    <li data-<%= G_PAGE.DATASET.KEY.BLOG_ID %>="<%= id %>" class="list-group-item list-group-item-action list-group-item-info d-flex align-items-center justify-content-between">
      <div class="text-truncate me-3">
        <a class="stretched-link" href="/blog/<%= isPublic ? id : `preview/${id}` %>">
          <%= title %>
        </a>
      </div>
      <div class="d-none d-sm-block">
        <span class="timestamp"><%= isPublic ? '發布時間' : '上一次編輯時間' %><%= time %></span>
      </div>
      <% if(isSelf){ %>
      <div class="flex-shrink-0" style="z-index: 200;">
        <a class='btn btn-outline-primary btn-sm' href="/blog/edit/<%= id %>?owner_id=<%= author_id %>">編輯</a>
        <a class='btn btn-outline-primary btn-sm' data-<%= G_PAGE.DATASET.KEY.REMOVE_BLOG %>=<%= G_PAGE.DATASET.VALUE.REMOVE_BLOG_ITEM %>>刪除</a>
      </div>
      <% } %>
    </li>
    <% }) %>

    <!-- 填補START -->
    <% if(blogs.length < 5) {%>
    <% for(let i=5 - blogs.length; i> 0; i-- ){ %>
    <li class="list-group-item list-group-item-info d-flex align-items-center justify-content-between">
      <div class="text-truncate me-3">
        <span class="invisible">x</span>
      </div>
      <% if(isSelf){ %>
      <div class="flex-shrink-0 invisible">
        <a class='btn btn-outline-primary btn-sm'>編輯</a>
        <a class='btn btn-outline-primary btn-sm'>刪除</a>
      </div>
      <% } %>
    </li>
    <% } %>
    <% } %>
    <!-- 填補END -->
  </ul>
</li>